# 性能测试报告
本文档展示了 AIDB 在分析查询场景下的性能表现。测试采用行业标准基准测试工具，在 XS 规格（4 credit）配置下进行。

## 测试方法
采用 [TPC-H](https://www.tpc.org/tpch/) 基准测试套件评估分析查询性能。TPC-H 是 TPC 组织制定的决策支持基准测试，包含 22 条复杂的分析查询，广泛用于评估数据库系统的分析处理能力。

## 测试配置
- **数据集规模**：100GB Parquet 格式数据
- **数据存储**：数据存储在 UCloud US3 对象存储服务上
- **数据读取**：AIDB 通过外部表（External Table）直接读取 US3 上的 Parquet 文件
- **实例规格**：XS（4 credit）

## 测试结果

测试流程：首先进行一次 cold run 进行系统预热，然后执行 hot run 并记录性能数据。下表展示的是 hot run 的执行时间。

| Query | AIDB（单位秒） | ADB PG 7.0（8*2c8G）（单位秒） | Greenplum（单位秒） |
|---|---:|---:|---:|
| q1  | 6.201  | 11.59 | 26.34 |
| q2  | 1.16   | 2.52  | 6.07  |
| q3  | 4.95   | 2.88  | 17.05 |
| q4  | 4.761  | 3.16  | 39.1  |
| q5  | 4.125  | 3.97  | 24.49 |
| q6  | 3.441  | 0.61  | 1.56  |
| q7  | 4.727  | 2.64  | 20.66 |
| q8  | 4.964  | 3.23  | 23.16 |
| q9  | 10.469 | 13.91 | 63.56 |
| q10 | 4.97   | 4.81  | 13.92 |
| q11 | 0.898  | 1.66  | 3.82  |
| q12 | 5.676  | 6.42  | 13.56 |
| q13 | 4.909  | 8.82  | 21.55 |
| q14 | 4.036  | 0.78  | 1.7   |
| q15 | 3.375  | 1.9   | 3.86  |
| q16 | 2.224  | 1.65  | 4.25  |
| q17 | 3.832  | 3.69  | 107.32 |
| q18 | 7.331  | 14.51 | 85.78 |
| q19 | 7.725  | 8.66  | 16.08 |
| q20 | 3.647  | 2.23  | 25.75 |
| q21 | 13.909 | 23.68 | 49.78 |
| q22 | 1.358  | 4.82  | 14.49 |
| **Total** | **108.68** | **128.14** | **583.85** |

在 100GB 数据集上， AIDB 完成全部 22 条 TPC-H 查询的总耗时仅为 108.68 秒，展现了优秀的分析查询处理能力。

## 总结
AIDB 在 XS 规格（4 credit）配置下，展现出卓越的性能表现。
分析查询场景下，在 100GB 数据集上完成 TPC-H 全量查询仅需 108.68 秒，满足实时分析场景需求。优秀的分析性能得益于 AIDB 出色的智能缓存服务，能够有效提升查询效率。

需要说明的是，XS 规格为 AIDB 的中等规格配置。对于更大规模的数据集和更高性能要求的场景，可以使用更大规格的实例配置，以获得更优的性能表现。

以上测试结果证明了 AIDB 在向量检索和分析查询两个核心场景下的高性能表现，能够满足企业级应用对性能和准确性的双重需求。
